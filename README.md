# VMD-Lifting

official: https://github.com/DenisTome/Lifting-from-the-Deep-release

# wayne9311211/VMD-Lifting

forked from: https://github.com/errno-mmd/VMD-Lifting

# Contents

- [Intro](#intro)
- [Download Model by Yourself](#download-model-by-yourself)
- [MY ENV](#my-env)
- [MY DEVICE INFO](#my-device-info)
- [Example](#example)
- [Result](#result)
- [GPU GUIDE](#gpu-guide)
- [Notice](#notice)
- [What's New](#whats-new)
- [The Project is Suitable for](#the-project-is-suitable-for)
- [Reference](#reference)
- [License](#license)
- [Citation](#citation)
- [Contributors üíñ‚ú®üíó](#contributors-)

# Intro

Convert video to vmd file.

I installed, debug, successful run these files in only 5 hours. It is very good.

# Download Model by Yourself

https://github.com/wayne931121/VMD-Lifting/tree/master/data/saved_sessions

# MY ENV

https://github.com/wayne931121/VMD-Lifting/blob/master/env.yml

## Key Points

- python and pip version (or you may install or build package failed)
- tensorflow and some other relation packages version
- matplotlib version
- numpy version

# MY DEVICE INFO

 - Windows 11
 - Miniforge Conda
 - CUDA 12.1 device with cudnn (installed and setted up env path)
 - NVIDIA GeForce RTX 4050 (6GB, installed driver)

# Example
first:
```cmd
cd applications
```
simple test:
```cmd
python vmdlifting.py your_test.jpg test_output.vmd
```
simple test with default image:
```cmd
python vmdlifting.py ..\data\images\test_image.png test_if_there_is_a_bug.vmd
```
convert video to vmd file:
```cmd
python vmdlifting.py 3.mp4 3.vmd
```
Example:
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/3f46123b-acea-423b-ad5c-208d4a42571c" />

# Result

Model: miHoYo/Á•ûÂ∏ùÂÆá

Generated by blender, ffmpeg, mmd tools, VMD-Lifting

ffmpeg command: https://github.com/wayne931121/VMD-Lifting/blob/master/ffmpeg_smooth_video.md

https://github.com/user-attachments/assets/3a67b894-773c-46d0-8b00-02aee696c856

# GPU GUIDE

https://github.com/wayne931121/VMD-Lifting/blob/master/gpu_guide.md

# Notice

## If you use cpu, that's good.

## If you use GPU, 

### 1. set the memoey limit here:

https://github.com/wayne931121/VMD-Lifting/blob/master/packages/lifting/_pose_estimator.py#L19

### 2. check your tmp folder is all in ansi encode (all in english) (or tensorflow may give you a error)

If not, set here:

https://github.com/wayne931121/VMD-Lifting/blob/master/applications/environment.py

### 3. If you meet the bug about nvvm

https://stackoverflow.com/questions/72499414/i-got-an-error-about-error-cant-find-libdevice-directory-cuda-dir-nvvm-libd

## I turned off the smooth vmd function

See: https://github.com/wayne931121/VMD-Lifting/blob/master/applications/readme.md

# What's New

Smooth vmd with different smoothlevels

https://github.com/wayne931121/VMD-Lifting/tree/master/applications#whats-new

# The Project is Suitable for

1. I want to build vmd from video in free
2. I know how to use python
3. I know how to use conda
4. I know how to use opencv (optional)
5. I know how to use tensorflow (optional)

## If you don't know anything about python and conda

The quickmagic ai is more suitable for you (need money)

https://www.quickmagic.ai/home

or you can search ```blender motion ai``` in youtube.

# Reference
https://www.tensorflow.org/guide/migrate#a_note_on_slim_contriblayers

https://stackoverflow.com/questions/56561734/runtimeerror-tf-placeholder-is-not-compatible-with-eager-execution

https://stackoverflow.com/questions/10475198/retrieving-the-current-frame-number-in-opencv

https://stackoverflow.com/questions/2435062/what-happened-to-the-tmp-environment-variable

https://stackoverflow.com/questions/36927607/how-can-i-solve-ran-out-of-gpu-memory-in-tensorflow

https://stackoverflow.com/questions/78266102/opencv-throws-error-215assertion-failed/79790464#79790464

# Also See

https://github.com/wayne931121/smoothvmd-colab

# License

All source code in this project is licensed under the
GPL v3.\
See [LICENSE](./LICENSE) for more information.

All documentation in this project is licensed under the
CC-BY-NC 4.0.\
See [LICENSE-DOC](./LICENSE-DOC) for more information.


# Citation

the text copied from 

https://github.com/DenisTome/Lifting-from-the-Deep-release/blob/master/README.md#citation

	@InProceedings{Tome_2017_CVPR,
	author = {Tome, Denis and Russell, Chris and Agapito, Lourdes},
	title = {Lifting From the Deep: Convolutional 3D Pose Estimation From a Single Image},
	booktitle = {The IEEE Conference on Computer Vision and Pattern Recognition (CVPR)},
	month = {July},
	year = {2017}
	}

# Contributors üíñ‚ú®üíó

Original code by Denis Tome, Chris Russell, Lourdes Agapito, 2017

- Profile: https://github.com/DenisTome
- Contributors: https://github.com/DenisTome/Lifting-from-the-Deep-release/graphs/contributors
- Source: https://github.com/DenisTome/Lifting-from-the-Deep-release

Modifications and integration by Erano, 2018

- Profile: https://github.com/errno-mmd
- Source: https://github.com/errno-mmd/VMD-Lifting

Modifications and integration by Wayne931121, 2025

- Profile: https://github.com/wayne931121
- Source: https://github.com/wayne931121/VMD-Lifting
